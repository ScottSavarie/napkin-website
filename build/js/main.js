/* =Home specialty fade
============================================================================== */
$(document).ready(function(){$("#graphic-wrapper").addClass("show-phone"),$("#logo").addClass("show-logo"),$("#intro-text").addClass("show-text"),$("#primary-button").addClass("show-btn")}),console.log("yoyo"),map_range=function(e,t,n,r,i){return e<t?r:e>n?i:r+(i-r)*(e-t)/(n-t)};var lastScrollTop=0;$(window).load(function(){var e=$("#layers-graphic").height(),t=$("#canvas-graphic").height(),n=$("#controls-graphic").height();window.innerWidth>=960&&($(".layers-wrapper").css({"min-height":window.innerHeight}),$(".canvas-wrapper").css({"min-height":window.innerHeight}),$(".controls-wrapper").css({"min-height":window.innerHeight}),$("#layers-graphic").css({top:window.innerHeight/2-e/2+15+"px"}),$("#canvas-graphic").css({top:window.innerHeight/2-t/2+15+"px"}),$("#controls-graphic").css({top:window.innerHeight/2-n/2+15+"px"}));var r=$(".layers-wrapper").offset().top,i=$(".canvas-wrapper").offset().top,s=$(".controls-wrapper").offset().top;$(window).scroll(function(o){var u=$(document).scrollTop();console.log("scroll:"+u),console.log("canvas:"+i),window.innerWidth>=960&&($(".layers-wrapper").css({"min-height":window.innerHeight}),$(".canvas-wrapper").css({"min-height":window.innerHeight}),$(".controls-wrapper").css({"min-height":window.innerHeight}),$("#layers-graphic").css({top:window.innerHeight/2-e/2+15+"px"}),$("#canvas-graphic").css({top:window.innerHeight/2-t/2+15+"px"}),$("#controls-graphic").css({top:window.innerHeight/2-n/2+15+"px"})),window.innerWidth>=960&&u>lastScrollTop&&($("#layers-graphic").removeClass("invisible"),$("#canvas-graphic").removeClass("invisible"),$("#controls-graphic").removeClass("invisible")),window.innerWidth>=960&&u>=r-r/2&&($(".layers-graphic").css({opacity:map_range(u,r-r/2,r-100,0,1)}),$(".layers-graphic").css({transform:"scale("+map_range(u,r-r/2,r-100,.75,1)+")"}),$(".layers-text").css({opacity:map_range(u,r-r/2,r-100,0,1)})),window.innerWidth>=960&&u>=r+100&&($(".layers-graphic").css({transform:"translateX("+map_range(u,r+100,r+300,0,-500)+"px)"}),$(".layers-graphic").css({opacity:map_range(u,r+100,r+300,1,0)})),window.innerWidth>=960&&u>=i-i/2&&($(".canvas-graphic").css({opacity:map_range(u,i-i/2,i-100,0,1)}),$(".canvas-graphic").css({transform:"scale("+map_range(u,i-i/2,i-100,.75,1)+")"}),$(".canvas-text").css({opacity:map_range(u,i-i/2,i-100,0,1)})),window.innerWidth>=960&&u>=i+100&&($(".canvas-graphic").css({transform:"translateX("+map_range(u,i+100,i+300,0,-500)+"px)"}),$(".canvas-graphic").css({opacity:map_range(u,i+100,i+300,1,0)})),window.innerWidth>=960&&u>=s-s/2&&($(".controls-graphic").css({opacity:map_range(u,s-s/2,s-300,0,1)}),$(".controls-graphic").css({transform:"scale("+map_range(u,s-s/2,s-300,.75,1)+")"}),$(".controls-text").css({opacity:map_range(u,s-s/2,s-100,0,1)})),window.innerWidth>=960&&u>=s+100&&$(".controls-graphic").css({transform:"translateY("+map_range(u,s+100,s+400,0,-300)+"px)"}),window.innerWidth>=960&&u<lastScrollTop&&u<=500&&(console.log("less than 500"),$("#layers-graphic").removeAttr("style"),$("#layers-graphic").addClass("invisible"),$("#canvas-graphic").removeAttr("style"),$("#canvas-graphic").addClass("invisible"),$("#controls-graphic").removeAttr("style"),$("#controls-graphic").addClass("invisible")),lastScrollTop=u})}),$(window).resize(function(){var e=$(document).scrollTop(),t=$("#layers-graphic").height(),n=$("#canvas-graphic").height(),r=$("#controls-graphic").height();window.innerWidth>=960&&($(".layers-wrapper").css({"min-height":window.innerHeight}),$(".canvas-wrapper").css({"min-height":window.innerHeight}),$(".controls-wrapper").css({"min-height":window.innerHeight}),$("#layers-graphic").css({top:window.innerHeight/2-t/2+15+"px"}),$("#canvas-graphic").css({top:window.innerHeight/2-n/2+15+"px"}),$("#controls-graphic").css({top:window.innerHeight/2-r/2+15+"px"}));var i=$(".layers-wrapper").offset().top,s=$(".canvas-wrapper").offset().top,o=$(".controls-wrapper").offset().top;window.innerWidth<960&&($(".layers-graphic").removeAttr("style"),$(".layers-text").removeAttr("style"),$(".canvas-graphic").removeAttr("style"),$(".canvas-text").removeAttr("style"),$(".controls-graphic").removeAttr("style"),$(".controls-text").removeAttr("style"),$(".layers-wrapper").removeAttr("style"),$(".canvas-wrapper").removeAttr("style"),$(".controls-wrapper").removeAttr("style")),window.innerWidth>=960&&e>=i-i/2&&($(".layers-graphic").css({opacity:map_range(e,i-i/2,i-100,0,1)}),$(".layers-graphic").css({transform:"scale("+map_range(e,i-i/2,i-100,.75,1)+")"}),$(".layers-text").css({opacity:map_range(e,i-i/2,i-100,0,1)})),window.innerWidth>=960&&e>=i+100&&($(".layers-graphic").css({transform:"translateX("+map_range(e,i+100,i+300,0,-500)+"px)"}),$(".layers-graphic").css({opacity:map_range(e,i+100,i+300,1,0)})),window.innerWidth>=960&&e>=s-s/2&&($(".canvas-graphic").css({opacity:map_range(e,s-s/2,s-100,0,1)}),$(".canvas-graphic").css({transform:"scale("+map_range(e,s-s/2,s-100,.75,1)+")"}),$(".canvas-text").css({opacity:map_range(e,s-s/2,s-100,0,1)})),window.innerWidth>=960&&e>=s+100&&($(".canvas-graphic").css({transform:"translateX("+map_range(e,s+100,s+300,0,-500)+"px)"}),$(".canvas-graphic").css({opacity:map_range(e,s+100,s+300,1,0)})),window.innerWidth>=960&&e>=o-o/2&&($(".controls-graphic").css({opacity:map_range(e,o-o/2,o-300,0,1)}),$(".controls-graphic").css({transform:"scale("+map_range(e,o-o/2,o-300,.75,1)+")"}),$(".controls-text").css({opacity:map_range(e,o-o/2,o-100,0,1)})),window.innerWidth>=960&&e>=o+100&&$(".controls-graphic").css({transform:"translateY("+map_range(e,o+100,o+400,0,-300)+"px)"})});